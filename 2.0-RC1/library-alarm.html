<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Alarms</title><link rel="stylesheet" href="css/style.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="" /><link rel="up" href="libraries.html" title="Libraries" /><link rel="prev" href="libraries.html" title="Libraries" /><link rel="next" href="library-caching.html" title="Caching" />


<!-- favicon -->

<link rel="shortcut icon" href="http://qi4j.org/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="http://qi4j.org/favicon.ico" type="image/x-icon" />

<!-- style -->

<link href="css/shCore.css" rel="stylesheet" type="text/css" />
<link href="css/shCoreEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/shThemeEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/qi4j.css" rel="stylesheet" type="text/css" />

<!-- Syntax Highlighter -->

<script type="text/javascript" src="js/shCore.js"></script>
<script type="text/javascript" src="js/shBrushJava.js"></script>
<script type="text/javascript" src="js/shBrushScala.js"></script>
<script type="text/javascript" src="js/shBrushJScript.js"></script>
<script type="text/javascript" src="js/shBrushBash.js"></script>
<script type="text/javascript" src="js/shBrushPlain.js"></script>
<script type="text/javascript" src="js/shBrushXml.js"></script>
<script type="text/javascript" src="js/shBrushGroovy.js"></script>
<script type="text/javascript" src="js/shBrushPython.js"></script>
<script type="text/javascript" src="js/shBrushRuby.js"></script>
<script type="text/javascript" src="js/shBrushCSharp.js"></script>

<script type="text/javascript">
  SyntaxHighlighter.defaults['tab-size'] = 4;
  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all()
</script>

<!-- JQuery -->

<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>

<!-- Image Scaler -->

<script type="text/javascript" src="js/imagescaler.js"></script>

<!-- Table Styler -->

<script type="text/javascript" src="js/tablestyler.js"></script>

<!-- Version Switcher -->

<script type="text/javascript" src="js/versionswitcher.js"></script>

<!-- Qi4j WebSite Progressive Enhancement -->

<link href="css/progressive-enhancement.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/jquery.scrollTo-1.4.2.js"></script>
<script type="text/javascript" src="js/progressive-enhancement.js"></script>

<!-- Analytics -->
 <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3118496-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
 </script>

  </head><body><div xmlns="" xmlns:exsl="http://exslt.org/common" class="logo"><a href="index.html"><img src="images/logo-standard.png" /></a></div><div xmlns="" xmlns:exsl="http://exslt.org/common" class="top-nav"><div xmlns="http://www.w3.org/1999/xhtml" class="toc"><dl><dt><span class="section"><a href="index.html#home">Qi4j</a></span></dt><dt><span class="section"><a href="intro.html">Introduction</a></span></dt><dt><span class="section"><a href="tutorials.html">Tutorials</a></span></dt><dt><span class="section"><a href="javadocs.html">Javadoc</a></span></dt><dt><span class="section"><a href="samples.html">Samples</a></span></dt><dt><span class="section"><a href="core.html">Core</a></span></dt><dt><span class="section"><span xmlns="" href="libraries.html">Libraries</span></span></dt><dt><span class="section"><a href="extensions.html">Extensions</a></span></dt><dt><span class="section"><a href="tools.html">Tools</a></span></dt><dt><span class="section"><a href="glossary.html">Glossary </a></span></dt></dl></div></div><div xmlns="" xmlns:exsl="http://exslt.org/common" class="sub-nav"><div xmlns="http://www.w3.org/1999/xhtml" class="toc"><dl><dt><span class="section"><a href="libraries.html#_overview_4">Overview</a></span></dt><dt><span class="section"><span xmlns="" href="library-alarm.html">Alarms</span></span></dt><dt><span class="section"><a href="library-caching.html">Caching</a></span></dt><dt><span class="section"><a href="library-circuitbreaker.html">Circuit Breaker</a></span></dt><dt><span class="section"><a href="library-constraints.html">Constraints</a></span></dt><dt><span class="section"><a href="library-conversion.html">Conversion</a></span></dt><dt><span class="section"><a href="library-cxf.html">CXF WebService</a></span></dt><dt><span class="section"><a href="library-eventsourcing.html">Event Sourcing</a></span></dt><dt><span class="section"><a href="library-eventsourcing-jdbm.html">Event Sourcing - JDBM</a></span></dt><dt><span class="section"><a href="library-eventsourcing-rest.html">Event Sourcing - ReST</a></span></dt><dt><span class="section"><a href="library-fileconfig.html">FileConfig</a></span></dt><dt><span class="section"><a href="library-http.html">HTTP</a></span></dt><dt><span class="section"><a href="library-jmx.html">JMX</a></span></dt><dt><span class="section"><a href="library-locking.html">Locking</a></span></dt><dt><span class="section"><a href="library-logging.html">Logging</a></span></dt><dt><span class="section"><a href="library-neo4j.html">Neo4j</a></span></dt><dt><span class="section"><a href="library-osgi.html">OSGi</a></span></dt><dt><span class="section"><a href="library-rdf.html">RDF</a></span></dt><dt><span class="section"><a href="library-rest-client.html">ReST Client</a></span></dt><dt><span class="section"><a href="library-rest-client-primer.html">ReST - HATEOAS Primer</a></span></dt><dt><span class="section"><a href="library-rest-common.html">ReST Common</a></span></dt><dt><span class="section"><a href="library-rest-server.html">ReST Server</a></span></dt><dt><span class="section"><a href="library-scheduler.html">Scheduler</a></span></dt><dt><span class="section"><a href="library-script-beanshell.html">Beanshell Scripting</a></span></dt><dt><span class="section"><a href="library-script-groovy.html">Groovy Scripting</a></span></dt><dt><span class="section"><a href="library-script-javascript.html">Javascript Scripting</a></span></dt><dt><span class="section"><a href="library-script-jruby.html">JRuby Scripting</a></span></dt><dt><span class="section"><a href="lang-scala.html">Scala Support</a></span></dt><dt><span class="section"><a href="library-servlet.html">Servlet</a></span></dt><dt><span class="section"><a href="library-shiro.html">Shiro Security</a></span></dt><dt><span class="section"><a href="library-shiro-web.html">Shiro Web Security</a></span></dt><dt><span class="section"><a href="library-spring.html">Spring Integration</a></span></dt><dt><span class="section"><a href="library-sql.html">SQL</a></span></dt><dt><span class="section"><a href="library-struts-codebehind.html">Struts - Code Behind</a></span></dt><dt><span class="section"><a href="library-struts-convention.html">Struts - Convention</a></span></dt><dt><span class="section"><a href="library-struts-plugin.html">Struts - Plugin</a></span></dt><dt><span class="section"><a href="library-uid.html">UID</a></span></dt><dt><span class="section"><a href="library-uowfile.html">UoWFile</a></span></dt></dl></div></div><div class="section" title="Alarms"><div class="titlepage"><div><div><h3 class="title"><a id="library-alarm"></a>Alarms</h3></div></div></div><p class="remark"><i><span class="comment"></span></i></p><p class="devstatus-code-stable">code</p><p class="devstatus-docs-brief">docs</p><p class="devstatus-tests-some">tests</p><p>The process control and industrial automation industry has for decades been struggling with a large number of unreliable
data points, such as sensors, fuses and potentially malfunctioning valves and actuators. This industry quickly developed
the concept of <span class="strong"><strong>Alarm Point</strong></span> as an abstraction for indication that something is not working correctly. These
<span class="emphasis"><em>Alarm Points</em></span> could then be grouped and aggregated, along a well-defined set of rules, to provide human operators a
clear view of what is going on in a plant.</p><p>The enterprise software has always assumed a much more "reliable" environment where the computers either work or they
don’t. Very little thought has been spent on what happens when many independent systems interact and what the
consequences are to other systems when one fails. The <span class="emphasis"><em>Alarm Point</em></span> concepts becomes a natural fit for the enterprise
world of today, where <span class="emphasis"><em>Alarm Points</em></span> allows for fine-grained notification and view into the health of one or more
systems.</p><p>In Qi4j, we are building upon this powerful abstraction, from decades of field experience.</p><div class="table"><a id="idp4551024"></a><p class="title"><b>Table 8. Artifact</b></p><div class="table-contents"><table summary="Artifact" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th align="left" valign="top">Group ID</th><th align="left" valign="top">Artifact ID</th><th align="left" valign="top">Version</th></tr></thead><tbody><tr><td align="left" valign="top"><p>org.qi4j.library</p></td><td align="left" valign="top"><p>org.qi4j.library.alarm</p></td><td align="left" valign="top"><p>2.0-RC1</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="section" title="Overview"><div class="titlepage"><div><div><h4 class="title"><a id="_overview_5"></a>Overview</h4></div></div></div><p>An <span class="emphasis"><em>Alarm Point</em></span> is of an <span class="emphasis"><em>Alarm Class</em></span> and of an <span class="emphasis"><em>Alarm Category</em></span>. The <span class="emphasis"><em>Alarm Class</em></span> defines the <span class="strong"><strong>severity</strong></span> of the
<span class="emphasis"><em>Alarm Point</em></span> and the <span class="emphasis"><em>Alarm Category</em></span> defines which <span class="strong"><strong>part</strong></span> of the system it belongs to. <span class="emphasis"><em>Alarm Category</em></span> can be
extended by the developer, and the package contains the <span class="emphasis"><em>SimpleAlarmCategory</em></span> as an example, where a Description
property has been added.</p><p>An <span class="emphasis"><em>Alarm Point</em></span> also has a <span class="emphasis"><em>System Name</em></span>, which should be the subsystem or application name.</p><p><span class="emphasis"><em>Alarm Points</em></span> are <span class="strong"><strong>triggered</strong></span> and an <span class="emphasis"><em>Alarm Trigger</em></span> may cause the <span class="emphasis"><em>Alarm Status</em></span> to change. IF, and only if, the
<span class="emphasis"><em>Alarm Status</em></span> changes, and <span class="emphasis"><em>Alarm Event</em></span> is generated. The <span class="emphasis"><em>Alarm Model</em></span> used for an <span class="emphasis"><em>Alarm Point</em></span> defines which
<span class="emphasis"><em>Alarm Status</em></span>, <span class="emphasis"><em>Alarm Trigger</em></span> and <span class="emphasis"><em>Alarm Event</em></span> that are possible.</p><p><span class="emphasis"><em>Alarm Points</em></span> may also have user-defined properties. These are primarily used for reporting and auditing.</p></div><div class="section" title="Alarm Point"><div class="titlepage"><div><div><h4 class="title"><a id="_alarm_point"></a>Alarm Point</h4></div></div></div><p>The <span class="emphasis"><em>Alarm Point</em></span> is the central API for applications. <span class="emphasis"><em>Alarm Points</em></span> are entities and normally dormant on in the
Entity Store. The <span class="emphasis"><em>Alarm Point</em></span> is a small workflow state-machine, and the <span class="emphasis"><em>Alarm Model</em></span> associated with the <span class="emphasis"><em>Alarm
Point</em></span> defines the workflow.</p></div><div class="section" title="Alarm Event"><div class="titlepage"><div><div><h4 class="title"><a id="_alarm_event"></a>Alarm Event</h4></div></div></div></div><div class="section" title="Alarm Class"><div class="titlepage"><div><div><h4 class="title"><a id="_alarm_class"></a>Alarm Class</h4></div></div></div></div><div class="section" title="Alarm Category"><div class="titlepage"><div><div><h4 class="title"><a id="_alarm_category"></a>Alarm Category</h4></div></div></div></div><div class="section" title="Alarm Proxy"><div class="titlepage"><div><div><h4 class="title"><a id="_alarm_proxy"></a>Alarm Proxy</h4></div></div></div><p>Sometimes it is much more convenient to hold on to Alarm Points all the time, instead of reviving them from the Entity
Store every time they are to be modified. Therefor, there is a convenience class available who does all the grunt work,
called the <span class="emphasis"><em>Alarm Proxy</em></span>. By creating an <span class="emphasis"><em>Alarm Proxy</em></span>, all the UnitOfWork handling is done for you. You still need to
provide an <span class="emphasis"><em>Identity</em></span> of the Alarm, which must survive restarts. The code could look something like this;</p><pre class="programlisting brush: java">@Service
private AlarmProxy.Factory factory;

private AlarmProxy myAlarmPoint;
  [...snip...]

@Override
public void assemble( ModuleAssembly module )
    throws AssemblyException
{
    new AlarmSystemAssembler().assemble( module );
      [...snip...]

        myAlarmPoint = factory.create( "This Alarm Identity", "ProActiveCRM", "Sales", AlarmClass.B );
        myAlarmPoint.history().maxSize().set( 20 );
          [...snip...]

        myAlarmPoint.activate();
</pre></div><div class="section" title="Alarm Models"><div class="titlepage"><div><div><h4 class="title"><a id="_alarm_models"></a>Alarm Models</h4></div></div></div><p>The Qi4j Alarm library comes with 3 <span class="emphasis"><em>Alarm Models</em></span> which should be sufficient for most uses. These are based on decades
of experience from the industrial automation industry and user feedback.</p></div><div class="section" title="Simple Alarm Model"><div class="titlepage"><div><div><h4 class="title"><a id="_simple_alarm_model"></a>Simple Alarm Model</h4></div></div></div><p>The <span class="emphasis"><em>Simple Alarm Model</em></span> is the most basic one, with only two <span class="emphasis"><em>Alarm Status</em></span>, <span class="strong"><strong><span class="emphasis"><em>Normal</em></span></strong></span> and <span class="strong"><strong><span class="emphasis"><em>Activated</em></span></strong></span>. The only
<span class="emphasis"><em>Alarm Triggers</em></span> are <span class="emphasis"><em>activate</em></span> and <span class="emphasis"><em>deactivate</em></span>, where <span class="emphasis"><em>activate</em></span> on a <span class="emphasis"><em>Normal</em></span> status will bring it to <span class="emphasis"><em>Activated</em></span>
status and an <span class="emphasis"><em>Activated Alarm Event</em></span> is generated.</p><div class="informaltable"><table border="1" width="80%"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th align="left" valign="top"> <span class="strong"><strong>Old Status</strong></span> </th><th align="left" valign="top"> <span class="strong"><strong>Trigger</strong></span> </th><th align="left" valign="top"> <span class="strong"><strong>Event</strong></span> </th><th align="left" valign="top"> <span class="strong"><strong>New Status</strong></span> </th><th align="left" valign="top"> </th></tr></thead><tbody></tbody></table></div></div><div class="section" title="Standard Alarm Model"><div class="titlepage"><div><div><h4 class="title"><a id="_standard_alarm_model"></a>Standard Alarm Model</h4></div></div></div></div><div class="section" title="Extended Alarm Model"><div class="titlepage"><div><div><h4 class="title"><a id="_extended_alarm_model"></a>Extended Alarm Model</h4></div></div></div></div></div><div xmlns="" xmlns:exsl="http://exslt.org/common" class="footer">(c) 2012 The Qi4j Community</div></body></html>

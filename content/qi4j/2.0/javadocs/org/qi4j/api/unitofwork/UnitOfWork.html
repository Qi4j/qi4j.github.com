<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Fri Apr 26 12:44:30 CEST 2013 -->
<TITLE>
UnitOfWork (Qi4j SDK 2.0)
</TITLE>

<META NAME="date" CONTENT="2013-04-26">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UnitOfWork (Qi4j SDK 2.0)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/qi4j/api/unitofwork/UnitOfWork.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UnitOfWork.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.qi4j.api.unitofwork</FONT>
<BR>
Interface UnitOfWork</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="../../../../org/qi4j/api/structure/MetaInfoHolder.html" title="interface in org.qi4j.api.structure">MetaInfoHolder</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>UnitOfWork</B><DT>extends <A HREF="../../../../org/qi4j/api/structure/MetaInfoHolder.html" title="interface in org.qi4j.api.structure">MetaInfoHolder</A></DL>
</PRE>

<P>
All operations on entities goes through an UnitOfWork.
 <p>A UnitOfWork allows you to access
 Entities and work with them. All modifications to Entities are recorded by the UnitOfWork,
 and at the end they may be sent to the underlying EntityStore by calling complete(). If the
 UoW was read-only you may instead simply discard() it.
 </p>
 <p>
 A UoW differs from a traditional Transaction in the sense that it is not tied at all to the underlying
 storage resource. Because of this there is no timeout on a UoW. It can be very short or very long.
 Another difference is that if a call to complete() fails, and the cause is validation errors in the
 Entities of the UoW, then these can be corrected and the UoW retried. By contrast, when a Transaction
 commit fails, then the whole transaction has to be done from the beginning again.
 <p>
 A UoW can be associated with a Usecase. A Usecase describes the metainformation about the process
 to be performed by the UoW.
 </p>
 If a code block that uses a UoW throws an exception you need to ensure that this is handled properly,
 and that the UoW is closed before returning. Because discard() is a no-op if the UoW is closed, we therefore
 recommend the following template to be used:
 <pre>
     UnitOfWork uow = uowf.newUnitOfWork();
     try
     {
         ...
         uow.complete();
     } finally
     {
         uow.discard();
     }
 </pre>
 This ensures that in the happy case the UoW is completed, and if any exception is thrown the UoW is discarded. After
 the UoW has completed the discard() method doesn't do anything, and so has no effect. You can choose to either add
 catch blocks for any exceptions, including exceptions from complete(), or skip them.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#addUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)">addUnitOfWorkCallback</A></B>(<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</A>&nbsp;callback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register a callback.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#complete()">complete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Complete this UnitOfWork.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#currentTime()">currentTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#discard()">discard</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discard thie UnitOfWork.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#get(java.lang.Class, java.lang.String)">get</A></B>(java.lang.Class&lt;T&gt;&nbsp;type,
    java.lang.String&nbsp;identity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find an Entity of the given mixin type with the give identity.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#get(T)">get</A></B>(T&nbsp;entity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If you have a reference to an Entity from another
 UnitOfWork and want to create a reference to it in this
 UnitOfWork, then call this method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#isOpen()">isOpen</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if the UnitOfWork is open.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#isPaused()">isPaused</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if the UnitOfWork is paused.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntity(java.lang.Class)">newEntity</A></B>(java.lang.Class&lt;T&gt;&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new Entity which implements the given mixin type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntity(java.lang.Class, java.lang.String)">newEntity</A></B>(java.lang.Class&lt;T&gt;&nbsp;type,
          java.lang.String&nbsp;identity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new Entity which implements the given mixin type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; <A HREF="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</A>&lt;T&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntityBuilder(java.lang.Class)">newEntityBuilder</A></B>(java.lang.Class&lt;T&gt;&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new EntityBuilder for an EntityComposite which implements the given mixin type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; <A HREF="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</A>&lt;T&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntityBuilder(java.lang.Class, java.lang.String)">newEntityBuilder</A></B>(java.lang.Class&lt;T&gt;&nbsp;type,
                 java.lang.String&nbsp;identity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new EntityBuilder for an EntityComposite which implements the given mixin type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; <A HREF="../../../../org/qi4j/api/query/Query.html" title="interface in org.qi4j.api.query">Query</A>&lt;T&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newQuery(org.qi4j.api.query.QueryBuilder)">newQuery</A></B>(<A HREF="../../../../org/qi4j/api/query/QueryBuilder.html" title="interface in org.qi4j.api.query">QueryBuilder</A>&lt;T&gt;&nbsp;queryBuilder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#pause()">pause</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pauses this UnitOfWork.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#remove(java.lang.Object)">remove</A></B>(java.lang.Object&nbsp;entity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the given Entity.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#removeUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)">removeUnitOfWorkCallback</A></B>(<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</A>&nbsp;callback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unregister a callback.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#resume()">resume</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resumes this UnitOfWork to again become the current UnitOfWork.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#setMetaInfo(java.lang.Object)">setMetaInfo</A></B>(java.lang.Object&nbsp;metaInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkFactory.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkFactory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#unitOfWorkFactory()">unitOfWorkFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the UnitOfWorkFactory that this UnitOfWork was created from.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/qi4j/api/usecase/Usecase.html" title="class in org.qi4j.api.usecase">Usecase</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#usecase()">usecase</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the Usecase for this UnitOfWork</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.qi4j.api.structure.MetaInfoHolder"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface org.qi4j.api.structure.<A HREF="../../../../org/qi4j/api/structure/MetaInfoHolder.html" title="interface in org.qi4j.api.structure">MetaInfoHolder</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/qi4j/api/structure/MetaInfoHolder.html#metaInfo(java.lang.Class)">metaInfo</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="unitOfWorkFactory()"><!-- --></A><H3>
unitOfWorkFactory</H3>
<PRE>
<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkFactory.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkFactory</A> <B>unitOfWorkFactory</B>()</PRE>
<DL>
<DD>Get the UnitOfWorkFactory that this UnitOfWork was created from.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The UnitOfWorkFactory instance that was used to create this UnitOfWork.</DL>
</DD>
</DL>
<HR>

<A NAME="currentTime()"><!-- --></A><H3>
currentTime</H3>
<PRE>
long <B>currentTime</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="usecase()"><!-- --></A><H3>
usecase</H3>
<PRE>
<A HREF="../../../../org/qi4j/api/usecase/Usecase.html" title="class in org.qi4j.api.usecase">Usecase</A> <B>usecase</B>()</PRE>
<DL>
<DD>Get the Usecase for this UnitOfWork
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the Usecase</DL>
</DD>
</DL>
<HR>

<A NAME="setMetaInfo(java.lang.Object)"><!-- --></A><H3>
setMetaInfo</H3>
<PRE>
void <B>setMetaInfo</B>(java.lang.Object&nbsp;metaInfo)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newQuery(org.qi4j.api.query.QueryBuilder)"><!-- --></A><H3>
newQuery</H3>
<PRE>
&lt;T&gt; <A HREF="../../../../org/qi4j/api/query/Query.html" title="interface in org.qi4j.api.query">Query</A>&lt;T&gt; <B>newQuery</B>(<A HREF="../../../../org/qi4j/api/query/QueryBuilder.html" title="interface in org.qi4j.api.query">QueryBuilder</A>&lt;T&gt;&nbsp;queryBuilder)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newEntity(java.lang.Class)"><!-- --></A><H3>
newEntity</H3>
<PRE>
&lt;T&gt; T <B>newEntity</B>(java.lang.Class&lt;T&gt;&nbsp;type)
            throws <A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A>,
                   <A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></PRE>
<DL>
<DD>Create a new Entity which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.
 <p/>
 The identity of the Entity will be generated by the IdentityGenerator of the Module of the EntityComposite.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the mixin type that the EntityComposite must implement
<DT><B>Returns:</B><DD>a new Entity
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</A></CODE> - if no EntityComposite type of the given mixin type has been registered
<DD><CODE><A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></CODE> - if the entity cannot be created
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="newEntity(java.lang.Class, java.lang.String)"><!-- --></A><H3>
newEntity</H3>
<PRE>
&lt;T&gt; T <B>newEntity</B>(java.lang.Class&lt;T&gt;&nbsp;type,
                java.lang.String&nbsp;identity)
            throws <A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A>,
                   <A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></PRE>
<DL>
<DD>Create a new Entity which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the mixin type that the EntityComposite must implement<DD><CODE>identity</CODE> - the identity of the new Entity
<DT><B>Returns:</B><DD>a new Entity
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</A></CODE> - if no EntityComposite type of the given mixin type has been registered
<DD><CODE><A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></CODE> - if the entity cannot be created
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="newEntityBuilder(java.lang.Class)"><!-- --></A><H3>
newEntityBuilder</H3>
<PRE>
&lt;T&gt; <A HREF="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</A>&lt;T&gt; <B>newEntityBuilder</B>(java.lang.Class&lt;T&gt;&nbsp;type)
                                  throws <A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></PRE>
<DL>
<DD>Create a new EntityBuilder for an EntityComposite which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the mixin type that the EntityComposite must implement
<DT><B>Returns:</B><DD>a new Entity
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</A></CODE> - if no EntityComposite type of the given mixin type has been registered
<DD><CODE><A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></CODE>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="newEntityBuilder(java.lang.Class, java.lang.String)"><!-- --></A><H3>
newEntityBuilder</H3>
<PRE>
&lt;T&gt; <A HREF="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</A>&lt;T&gt; <B>newEntityBuilder</B>(java.lang.Class&lt;T&gt;&nbsp;type,
                                      java.lang.String&nbsp;identity)
                                  throws <A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></PRE>
<DL>
<DD>Create a new EntityBuilder for an EntityComposite which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 mixins implement the type then an AmbiguousTypeException will be thrown.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the mixin type that the EntityComposite must implement<DD><CODE>identity</CODE> - the identity of the new Entity
<DT><B>Returns:</B><DD>a new Entity
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</A></CODE> - if no EntityComposite type of the given mixin type has been registered
<DD><CODE><A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></CODE>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.Class, java.lang.String)"><!-- --></A><H3>
get</H3>
<PRE>
&lt;T&gt; T <B>get</B>(java.lang.Class&lt;T&gt;&nbsp;type,
          java.lang.String&nbsp;identity)
      throws <A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A>,
             <A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</A></PRE>
<DL>
<DD>Find an Entity of the given mixin type with the give identity. This
 method verifies that it exists by asking the underlying EntityStore.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - of the entity<DD><CODE>identity</CODE> - of the entity
<DT><B>Returns:</B><DD>the entity
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></CODE> - if no entity type could be found
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.Object)"><!-- --></A><A NAME="get(T)"><!-- --></A><H3>
get</H3>
<PRE>
&lt;T&gt; T <B>get</B>(T&nbsp;entity)
      throws <A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></PRE>
<DL>
<DD>If you have a reference to an Entity from another
 UnitOfWork and want to create a reference to it in this
 UnitOfWork, then call this method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>entity</CODE> - the Entity to be dereferenced
<DT><B>Returns:</B><DD>an Entity from this UnitOfWork
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</A></CODE> - if no entity type could be found</DL>
</DD>
</DL>
<HR>

<A NAME="remove(java.lang.Object)"><!-- --></A><H3>
remove</H3>
<PRE>
void <B>remove</B>(java.lang.Object&nbsp;entity)
            throws <A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></PRE>
<DL>
<DD>Remove the given Entity.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>entity</CODE> - the Entity to be removed.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</A></CODE> - if the entity could not be removed</DL>
</DD>
</DL>
<HR>

<A NAME="complete()"><!-- --></A><H3>
complete</H3>
<PRE>
void <B>complete</B>()
              throws <A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCompletionException.html" title="class in org.qi4j.api.unitofwork">UnitOfWorkCompletionException</A>,
                     <A HREF="../../../../org/qi4j/api/unitofwork/ConcurrentEntityModificationException.html" title="class in org.qi4j.api.unitofwork">ConcurrentEntityModificationException</A></PRE>
<DL>
<DD>Complete this UnitOfWork. This will send all the changes down to the underlying
 EntityStore's.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCompletionException.html" title="class in org.qi4j.api.unitofwork">UnitOfWorkCompletionException</A></CODE> - if the UnitOfWork could not be completed
<DD><CODE><A HREF="../../../../org/qi4j/api/unitofwork/ConcurrentEntityModificationException.html" title="class in org.qi4j.api.unitofwork">ConcurrentEntityModificationException</A></CODE> - if entities have been modified by others</DL>
</DD>
</DL>
<HR>

<A NAME="discard()"><!-- --></A><H3>
discard</H3>
<PRE>
void <B>discard</B>()</PRE>
<DL>
<DD>Discard thie UnitOfWork. Use this if a failure occurs that you cannot handle,
 or if the usecase was of a read-only character. This is a no-op of the UnitOfWork
 is already closed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isOpen()"><!-- --></A><H3>
isOpen</H3>
<PRE>
boolean <B>isOpen</B>()</PRE>
<DL>
<DD>Check if the UnitOfWork is open. It is closed after either complete() or discard()
 methods have been called successfully.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if the UnitOfWork is open.</DL>
</DD>
</DL>
<HR>

<A NAME="isPaused()"><!-- --></A><H3>
isPaused</H3>
<PRE>
boolean <B>isPaused</B>()</PRE>
<DL>
<DD>Check if the UnitOfWork is paused. It is not paused after it has been create through the
 UnitOfWorkFactory, and it can be paused by calling <A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#pause()"><CODE>pause()</CODE></A> and then resumed by calling
 <A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#resume()"><CODE>resume()</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if this UnitOfWork has been paused.</DL>
</DD>
</DL>
<HR>

<A NAME="pause()"><!-- --></A><H3>
pause</H3>
<PRE>
void <B>pause</B>()</PRE>
<DL>
<DD>Pauses this UnitOfWork.
 <p>
 Calling this method will cause the underlying UnitOfWork to become the current UnitOfWork until the
 the resume() method is called. It is the client's responsibility not to drop the reference to this
 UnitOfWork while being paused.
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="resume()"><!-- --></A><H3>
resume</H3>
<PRE>
void <B>resume</B>()</PRE>
<DL>
<DD>Resumes this UnitOfWork to again become the current UnitOfWork.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)"><!-- --></A><H3>
addUnitOfWorkCallback</H3>
<PRE>
void <B>addUnitOfWorkCallback</B>(<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</A>&nbsp;callback)</PRE>
<DL>
<DD>Register a callback. Callbacks are invoked when the UnitOfWork
 is completed or discarded.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>callback</CODE> - a callback to be registered with this UnitOfWork</DL>
</DD>
</DL>
<HR>

<A NAME="removeUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)"><!-- --></A><H3>
removeUnitOfWorkCallback</H3>
<PRE>
void <B>removeUnitOfWorkCallback</B>(<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</A>&nbsp;callback)</PRE>
<DL>
<DD>Unregister a callback. Callbacks are invoked when the UnitOfWork
 is completed or discarded.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>callback</CODE> - a callback to be unregistered with this UnitOfWork</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/qi4j/api/unitofwork/UnitOfWork.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UnitOfWork.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Sat Jan 10 14:33:32 CET 2015 -->
<title>UnitOfWork (Qi4j SDK 0)</title>
<meta name="date" content="2015-01-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UnitOfWork (Qi4j SDK 0)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/qi4j/api/unitofwork/UnitOfWork.html" target="_top">Frames</a></li>
<li><a href="UnitOfWork.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qi4j.api.unitofwork</div>
<h2 title="Interface UnitOfWork" class="title">Interface UnitOfWork</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../org/qi4j/api/structure/MetaInfoHolder.html" title="interface in org.qi4j.api.structure">MetaInfoHolder</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">UnitOfWork</span>
extends <a href="../../../../org/qi4j/api/structure/MetaInfoHolder.html" title="interface in org.qi4j.api.structure">MetaInfoHolder</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block">All operations on entities goes through an UnitOfWork.
 <p>A UnitOfWork allows you to access
 Entities and work with them. All modifications to Entities are recorded by the UnitOfWork,
 and at the end they may be sent to the underlying EntityStore by calling complete(). If the
 UoW was read-only you may instead simply discard() it.
 </p>
 <p>
 A UoW differs from a traditional Transaction in the sense that it is not tied at all to the underlying
 storage resource. Because of this there is no timeout on a UoW. It can be very short or very long.
 Another difference is that if a call to complete() fails, and the cause is validation errors in the
 Entities of the UoW, then these can be corrected and the UoW retried. By contrast, when a Transaction
 commit fails, then the whole transaction has to be done from the beginning again.
 </p>
 <p>
 A UoW can be associated with a Usecase. A Usecase describes the metainformation about the process
 to be performed by the UoW.
 </p>
 <p>
 If a code block that uses a UoW throws an exception you need to ensure that this is handled properly,
 and that the UoW is closed before returning. Because discard() is a no-op if the UoW is closed, we therefore
 recommend the following template to be used:
 </p>
 <pre>
     UnitOfWork uow = module.newUnitOfWork();
     try
     {
         ...
         uow.complete();
     }
     finally
     {
         uow.discard();
     }
 </pre>
 <p>
 This ensures that in the happy case the UoW is completed, and if any exception is thrown the UoW is discarded. After
 the UoW has completed the discard() method doesn't do anything, and so has no effect. You can choose to either add
 catch blocks for any exceptions, including exceptions from complete(), or skip them.
 </p>
 <p>
 Since 2.1 you can leverage Java 7 Automatic Resource Management (ie. Try With Resources) and use the following
 template instead:
 </p>
 <pre>
     try( UnitOfWork uow = module.newUnitOfWork() )
     {
         ...
         uow.complete();
     }
 </pre>
 <p>It has the very same effect than the template above but is shorter.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#addUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)">addUnitOfWorkCallback</a></strong>(<a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</code>
<div class="block">Register a callback.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#close()">close</a></strong>()</code>
<div class="block">Discard this UnitOfWork.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#complete()">complete</a></strong>()</code>
<div class="block">Complete this UnitOfWork.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#currentTime()">currentTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#discard()">discard</a></strong>()</code>
<div class="block">Discard this UnitOfWork.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#get(java.lang.Class,%20java.lang.String)">get</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity)</code>
<div class="block">Find an Entity of the given mixin type with the give identity.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#get(T)">get</a></strong>(T&nbsp;entity)</code>
<div class="block">If you have a reference to an Entity from another
 UnitOfWork and want to create a reference to it in this
 UnitOfWork, then call this method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#isOpen()">isOpen</a></strong>()</code>
<div class="block">Check if the UnitOfWork is open.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#isPaused()">isPaused</a></strong>()</code>
<div class="block">Check if the UnitOfWork is paused.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntity(java.lang.Class)">newEntity</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Create a new Entity which implements the given mixin type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntity(java.lang.Class,%20java.lang.String)">newEntity</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity)</code>
<div class="block">Create a new Entity which implements the given mixin type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntityBuilder(java.lang.Class)">newEntityBuilder</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newEntityBuilder(java.lang.Class,%20java.lang.String)">newEntityBuilder</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity)</code>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../org/qi4j/api/query/Query.html" title="interface in org.qi4j.api.query">Query</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#newQuery(org.qi4j.api.query.QueryBuilder)">newQuery</a></strong>(<a href="../../../../org/qi4j/api/query/QueryBuilder.html" title="interface in org.qi4j.api.query">QueryBuilder</a>&lt;T&gt;&nbsp;queryBuilder)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#pause()">pause</a></strong>()</code>
<div class="block">Pauses this UnitOfWork.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#remove(java.lang.Object)">remove</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>
<div class="block">Remove the given Entity.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#removeUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)">removeUnitOfWorkCallback</a></strong>(<a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</code>
<div class="block">Unregister a callback.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#resume()">resume</a></strong>()</code>
<div class="block">Resumes this UnitOfWork to again become the current UnitOfWork.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#setMetaInfo(java.lang.Object)">setMetaInfo</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;metaInfo)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkFactory.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#unitOfWorkFactory()">unitOfWorkFactory</a></strong>()</code>
<div class="block">Get the UnitOfWorkFactory that this UnitOfWork was created from.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/qi4j/api/usecase/Usecase.html" title="class in org.qi4j.api.usecase">Usecase</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#usecase()">usecase</a></strong>()</code>
<div class="block">Get the Usecase for this UnitOfWork</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.qi4j.api.structure.MetaInfoHolder">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.qi4j.api.structure.<a href="../../../../org/qi4j/api/structure/MetaInfoHolder.html" title="interface in org.qi4j.api.structure">MetaInfoHolder</a></h3>
<code><a href="../../../../org/qi4j/api/structure/MetaInfoHolder.html#metaInfo(java.lang.Class)">metaInfo</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="unitOfWorkFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unitOfWorkFactory</h4>
<pre><a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkFactory.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkFactory</a>&nbsp;unitOfWorkFactory()</pre>
<div class="block">Get the UnitOfWorkFactory that this UnitOfWork was created from.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The UnitOfWorkFactory instance that was used to create this UnitOfWork.</dd></dl>
</li>
</ul>
<a name="currentTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentTime</h4>
<pre>long&nbsp;currentTime()</pre>
</li>
</ul>
<a name="usecase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usecase</h4>
<pre><a href="../../../../org/qi4j/api/usecase/Usecase.html" title="class in org.qi4j.api.usecase">Usecase</a>&nbsp;usecase()</pre>
<div class="block">Get the Usecase for this UnitOfWork</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the Usecase</dd></dl>
</li>
</ul>
<a name="setMetaInfo(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMetaInfo</h4>
<pre>void&nbsp;setMetaInfo(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;metaInfo)</pre>
</li>
</ul>
<a name="newQuery(org.qi4j.api.query.QueryBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newQuery</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../org/qi4j/api/query/Query.html" title="interface in org.qi4j.api.query">Query</a>&lt;T&gt;&nbsp;newQuery(<a href="../../../../org/qi4j/api/query/QueryBuilder.html" title="interface in org.qi4j.api.query">QueryBuilder</a>&lt;T&gt;&nbsp;queryBuilder)</pre>
</li>
</ul>
<a name="newEntity(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntity</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;newEntity(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)
            throws <a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a>,
                   <a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></pre>
<div class="block">Create a new Entity which implements the given mixin type.
 <p>
 An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.
 </p>
 <p>
 The identity of the Entity will be generated by the IdentityGenerator of the Module of the EntityComposite.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - the mixin type that the EntityComposite must implement</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new Entity</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></code> - if the entity cannot be created</dd>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></code></dd></dl>
</li>
</ul>
<a name="newEntity(java.lang.Class, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntity</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;newEntity(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity)
            throws <a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a>,
                   <a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></pre>
<div class="block">Create a new Entity which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - the mixin type that the EntityComposite must implement</dd><dd><code>identity</code> - the identity of the new Entity</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new Entity</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></code> - if the entity cannot be created</dd>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></code></dd></dl>
</li>
</ul>
<a name="newEntityBuilder(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntityBuilder</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</a>&lt;T&gt;&nbsp;newEntityBuilder(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)
                                  throws <a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></pre>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 EntityComposites implement the type then an AmbiguousTypeException will be thrown.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - the mixin type that the EntityComposite must implement</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new Entity</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></code></dd>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></code></dd></dl>
</li>
</ul>
<a name="newEntityBuilder(java.lang.Class, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntityBuilder</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../org/qi4j/api/entity/EntityBuilder.html" title="interface in org.qi4j.api.entity">EntityBuilder</a>&lt;T&gt;&nbsp;newEntityBuilder(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity)
                                  throws <a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></pre>
<div class="block">Create a new EntityBuilder for an EntityComposite which implements the given mixin type. An EntityComposite
 will be chosen according to what has been registered and the visibility rules
 for Modules and Layers will be considered. If several
 mixins implement the type then an AmbiguousTypeException will be thrown.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - the mixin type that the EntityComposite must implement</dd><dd><code>identity</code> - the identity of the new Entity</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new Entity</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</a></code> - if no EntityComposite type of the given mixin type has been registered</dd>
<dd><code><a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></code></dd>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></code></dd></dl>
</li>
</ul>
<a name="get(java.lang.Class, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;get(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity)
      throws <a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a>,
             <a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</a></pre>
<div class="block">Find an Entity of the given mixin type with the give identity. This
 method verifies that it exists by asking the underlying EntityStore.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - of the entity</dd><dd><code>identity</code> - of the entity</dd>
<dt><span class="strong">Returns:</span></dt><dd>the entity</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></code> - if no entity type could be found</dd>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork">NoSuchEntityException</a></code></dd></dl>
</li>
</ul>
<a name="get(java.lang.Object)">
<!--   -->
</a><a name="get(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;get(T&nbsp;entity)
      throws <a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></pre>
<div class="block">If you have a reference to an Entity from another
 UnitOfWork and want to create a reference to it in this
 UnitOfWork, then call this method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entity</code> - the Entity to be dereferenced</dd>
<dt><span class="strong">Returns:</span></dt><dd>an Entity from this UnitOfWork</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/EntityTypeNotFoundException.html" title="class in org.qi4j.api.unitofwork">EntityTypeNotFoundException</a></code> - if no entity type could be found</dd></dl>
</li>
</ul>
<a name="remove(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>void&nbsp;remove(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)
            throws <a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></pre>
<div class="block">Remove the given Entity.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entity</code> - the Entity to be removed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/entity/LifecycleException.html" title="class in org.qi4j.api.entity">LifecycleException</a></code> - if the entity could not be removed</dd></dl>
</li>
</ul>
<a name="complete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>complete</h4>
<pre>void&nbsp;complete()
              throws <a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCompletionException.html" title="class in org.qi4j.api.unitofwork">UnitOfWorkCompletionException</a>,
                     <a href="../../../../org/qi4j/api/unitofwork/ConcurrentEntityModificationException.html" title="class in org.qi4j.api.unitofwork">ConcurrentEntityModificationException</a></pre>
<div class="block">Complete this UnitOfWork. This will send all the changes down to the underlying
 EntityStore's.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCompletionException.html" title="class in org.qi4j.api.unitofwork">UnitOfWorkCompletionException</a></code> - if the UnitOfWork could not be completed</dd>
<dd><code><a href="../../../../org/qi4j/api/unitofwork/ConcurrentEntityModificationException.html" title="class in org.qi4j.api.unitofwork">ConcurrentEntityModificationException</a></code> - if entities have been modified by others</dd></dl>
</li>
</ul>
<a name="discard()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discard</h4>
<pre>void&nbsp;discard()</pre>
<div class="block">Discard this UnitOfWork. Use this if a failure occurs that you cannot handle,
 or if the usecase was of a read-only character. This is a no-op of the UnitOfWork
 is already closed.</div>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Discard this UnitOfWork. Use this if a failure occurs that you cannot handle,
 or if the usecase was of a read-only character. This is a no-op of the UnitOfWork
 is already closed. This simply call the <a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#discard()"><code>discard()</code></a> method and is an
 implementation of the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang"><code>AutoCloseable</code></a> interface providing Try With Resources
 support for UnitOfWork.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>boolean&nbsp;isOpen()</pre>
<div class="block">Check if the UnitOfWork is open. It is closed after either complete() or discard()
 methods have been called successfully.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the UnitOfWork is open.</dd></dl>
</li>
</ul>
<a name="isPaused()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPaused</h4>
<pre>boolean&nbsp;isPaused()</pre>
<div class="block">Check if the UnitOfWork is paused. It is not paused after it has been create through the
 UnitOfWorkFactory, and it can be paused by calling <a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#pause()"><code>pause()</code></a> and then resumed by calling
 <a href="../../../../org/qi4j/api/unitofwork/UnitOfWork.html#resume()"><code>resume()</code></a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this UnitOfWork has been paused.</dd></dl>
</li>
</ul>
<a name="pause()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pause</h4>
<pre>void&nbsp;pause()</pre>
<div class="block">Pauses this UnitOfWork.
 <p>
 Calling this method will cause the underlying UnitOfWork to become the current UnitOfWork until the
 the resume() method is called. It is the client's responsibility not to drop the reference to this
 UnitOfWork while being paused.
 </p></div>
</li>
</ul>
<a name="resume()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre>void&nbsp;resume()</pre>
<div class="block">Resumes this UnitOfWork to again become the current UnitOfWork.</div>
</li>
</ul>
<a name="addUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUnitOfWorkCallback</h4>
<pre>void&nbsp;addUnitOfWorkCallback(<a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</pre>
<div class="block">Register a callback. Callbacks are invoked when the UnitOfWork
 is completed or discarded.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>callback</code> - a callback to be registered with this UnitOfWork</dd></dl>
</li>
</ul>
<a name="removeUnitOfWorkCallback(org.qi4j.api.unitofwork.UnitOfWorkCallback)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeUnitOfWorkCallback</h4>
<pre>void&nbsp;removeUnitOfWorkCallback(<a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork">UnitOfWorkCallback</a>&nbsp;callback)</pre>
<div class="block">Unregister a callback. Callbacks are invoked when the UnitOfWork
 is completed or discarded.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>callback</code> - a callback to be unregistered with this UnitOfWork</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/qi4j/api/unitofwork/NoSuchEntityException.html" title="class in org.qi4j.api.unitofwork"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/qi4j/api/unitofwork/UnitOfWorkCallback.html" title="interface in org.qi4j.api.unitofwork"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/qi4j/api/unitofwork/UnitOfWork.html" target="_top">Frames</a></li>
<li><a href="UnitOfWork.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
